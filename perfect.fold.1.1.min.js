jQuery.fn.sizeImage=function(a){function q(){n=$(window).height()-l;if(b.heightMax!=null&&b.heightMax<n){n=b.heightMax}if(b.heightMin!=null&&b.heightMin>n){n=b.heightMin}$(b.container).height(n).width($(window).width());m.animate({opacity:1},b.fadeTime,b.easingMethod,function(){b.imageVisible()});c=n;d=$(window).width();e=$(m).height();f=$(m).width();h=c/e;g=d/f;if(g>h){i=e*g;$(m).height(i);$(m).width(d)}else{j=f*h;$(m).height(c);$(m).width(j)}switch(b.alignVertical){case"top":$(m).css("top",0);break;case"bottom":$(m).css("bottom",0);break;default:k=Math.abs(($(m).height()-c)/2)*-1;$(m).css("top",k);break}switch(b.alignHorizontal){case"left":$(m).css("left",0);break;case"right":$(m).css("right",0);break;default:k=Math.abs(($(m).width()-d)/2)*-1;$(m).css("left",k);break}}"use strict";var b=$.extend({alignHorizontal:"center",alignVertical:"middle",container:this.parent(),easingMethod:"swing",fadeTime:2e3,heightMax:null,heightMin:null,offset:0,changeOnResize:true,imageLoaded:function(){},imageVisible:function(){}},a),c,d,e,f,g,h,i,j,k,l=b.offset+$(b.container).position().top,m=this,n=$(window).height()-l,o=false,p;if(b.heightMax!=null&&b.heightMax<n){n=b.heightMax}if(b.heightMin!=null&&b.heightMin>n){n=b.heightMin}$(m).css({opacity:0,position:"absolute"});$(b.container).css({display:"block",left:"0",overflow:"hidden",position:"relative",top:"0"}).height(n).width($(window).width());$(window).resize(function(){if(b.changeOnResize){n=$(window).height()-l;q()}});n=$(window).height()-l;p=setInterval(function(){if($(m).prop("complete")==true){q();if(o==false){if(a.imageLoaded){a.imageLoaded()}o=true}clearInterval(p)}},100)}