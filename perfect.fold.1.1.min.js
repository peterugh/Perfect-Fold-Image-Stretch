jQuery.fn.sizeImage=function(a){"use strict";var b=$.extend({alignHorizontal:"center",alignVertical:"middle",container:this.parent(),easingMethod:"swing",fadeTime:2e3,heightMax:null,heightMin:null,offset:0,changeOnResize:true,imageLoaded:function(){},imageVisible:function(){}},a),c=1,d=100,e=this;$(b.container).css({height:1});this.each(function(){function t(){q=$(window).height()-o;if(b.heightMax!=null&&b.heightMax<q){q=b.heightMax}if(b.heightMin!=null&&b.heightMin>q){q=b.heightMin}$(b.container).height(q).width($(window).width());$(p).animate({opacity:1},b.fadeTime,b.easingMethod,function(){b.imageVisible()});f=q;g=$(window).width();h=$(p).height();i=$(p).width();k=f/h;j=g/i;if(j>k){l=h*j;$(p).height(l);$(p).width(g)}else{m=i*k;$(p).height(f);$(p).width(m)}switch(b.alignVertical){case"top":$(p).css("top",0);break;case"bottom":$(p).css("bottom",0);break;default:n=Math.abs(($(p).height()-f)/2)*-1;$(p).css("top",n);break}switch(b.alignHorizontal){case"left":$(p).css("left",0);break;case"right":$(p).css("right",0);break;default:n=Math.abs(($(p).width()-g)/2)*-1;$(p).css("left",n);break}}var f,g,h,i,j,k,l,m,n,o=b.offset,p=this,q=$(window).height()-o,r=false,s=false;if(b.heightMax!=null&&b.heightMax<q){q=b.heightMax}if(b.heightMin!=null&&b.heightMin>q){q=b.heightMin}$(p).css({opacity:0,position:"absolute",zIndex:d});d=d-1;$(b.container).css({display:"block",left:"0",overflow:"hidden",position:"relative",top:"0"}).height(q).width($(window).width());$(window).resize(function(){if(b.changeOnResize){q=$(window).height()-o;t()}});q=$(window).height()-o;s=setInterval(function(){if($(p).prop("complete")==true){t();if(c==e.length){if(a.imageLoaded){a.imageLoaded()}}c=c+1;clearInterval(s)}},100)})}