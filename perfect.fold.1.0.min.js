jQuery.fn.sizeImage=function(options){"use strict";var settings=$.extend({alignHorizontal:'center',alignVertical:'middle',container:this.parent(),easingMethod:'swing',fadeTime:2000,heightMax:null,heightMin:null,offset:0,changeOnResize:true,imageLoaded:function(){}},options),containerHeight,containerWidth,imageHeight,imageWidth,pctX,pctY,scaledHeight,scaledWidth,halfOverflow,theOffset=settings.offset+$(settings.container).position().top,theImage=this,adjustedHeight=$(window).height()-theOffset,activated=false;if(settings.heightMax!=null&&settings.heightMax<adjustedHeight){adjustedHeight=settings.heightMax}if(settings.heightMin!=null&&settings.heightMin>adjustedHeight){adjustedHeight=settings.heightMin}theImage.css({opacity:0,position:'absolute'});$(settings.container).css({display:'block',left:'0',overflow:'hidden',position:'relative',top:'0'}).height(adjustedHeight).width($(window).width());function posImg(){adjustedHeight=$(window).height()-theOffset;if(settings.heightMax!=null&&settings.heightMax<adjustedHeight){adjustedHeight=settings.heightMax}if(settings.heightMin!=null&&settings.heightMin>adjustedHeight){adjustedHeight=settings.heightMin}$(settings.container).height(adjustedHeight).width($(window).width());theImage.animate({opacity:1},settings.fadeTime,settings.easingMethod);containerHeight=adjustedHeight;containerWidth=$(window).width();imageHeight=$(theImage).height();imageWidth=$(theImage).width();pctY=containerHeight/imageHeight;pctX=containerWidth/imageWidth;if(pctX>pctY){scaledHeight=imageHeight*pctX;$(theImage).height(scaledHeight);$(theImage).width(containerWidth)}else{scaledWidth=imageWidth*pctY;$(theImage).height(containerHeight);$(theImage).width(scaledWidth)}switch(settings.alignVertical){case'top':$(theImage).css('top',0);break;case'bottom':$(theImage).css('top',((scaledHeight-containerHeight)*-1));break;default:halfOverflow=((scaledHeight-containerHeight)/2)*-1;$(theImage).css('top',halfOverflow);break}switch(settings.alignHorizontal){case'left':$(theImage).css('left',0);break;case'right':$(theImage).css('left',((scaledWidth-containerWidth)*-1));break;default:halfOverflow=(((scaledWidth-containerWidth)/2))*-1;$(theImage).css('left',halfOverflow);break}}$(window).resize(function(){if(settings.changeOnResize){adjustedHeight=$(window).height()-theOffset;posImg()}});adjustedHeight=$(window).height()-theOffset;var imgLoadCheck=setInterval(function(){if($(theImage).prop('complete')==true){posImg();if(activated==false){if(options.imageLoaded){options.imageLoaded.call(this)}activated=true}clearInterval(imgLoadCheck)}},100)};